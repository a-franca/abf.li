---
layout:
permalink: "/feed.xml"
---

<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" {% if site.locale %}xml:lang="{{ site.locale }}"{% endif %}>
  <link rel="alternate" type="text/html" {% if site.locale %}hreflang="{{ site.locale }}" {% endif %} href="{{ '/' | prepend: site.url | xml_escape }}"/>
  <link rel="self" type="application/atom+xml" href="{{ site.feed.rss | prepend: site.url | xml_escape }}" />
  <title type="html">{{ site.title | xml_escape }}</title>
  <subtitle>{{ site.description | xml_escape }}</subtitle>
  <logo>{{ site.logo | prepend: site.url | xml_escape }}</logo>
  <icon>{{ '/favicon.ico' | prepend: site.url | xml_escape }}</icon>
  <updated>{{ site.time | date_to_xmlschema }}</updated>
  <id>{{ '/' | prepend: site.url | xml_escape }}</id>
  <rights type="html">{{ site.license | xml_escape }}</rights>
  <author>
    <name>{{ site.author.name | xml_escape }}</name>
    <uri>{{ site.author.url | xml_escape }}</uri>
    <email>{{ site.author.email | xml_escape }}</email>
  </author>
  {% for post in site.posts %}
  <entry>
    <title type="html">{{ post.title | xml_escape }}</title>
    <link rel="alternate" type="text/html" href="{{ post.url | prepend: site.url | xml_escape }}" title="{{ post.title | xml_escape }}"/>
    <id>{{ post.id | prepend: site.url | xml_escape }}</id>
    <updated>{{ post.date | date_to_xmlschema | default: site.time }}</updated>
    <published>{{ post.date | date_to_xmlschema | default: site.time }}</published>
    {% assign email = '<p>~Reply via <a href="mailto:' | append: site.author.email | append: '?subject=Re: ' | append: post.title | append: '">email</a>' %}
    {% assign social = ' / <a href="' | append: site.author.mastodon | append: '">mastodon</a></p>' %}
    <content type="html">{{ post.content | append: email | append: social | xml_escape }}</content>
    {% for tag in post.tags %}<category term="{{ tag | xml_escape }}" />{% endfor %}
    <summary type="html"><![CDATA[{{ post.description | strip_html | normalize_whitespace }}]]></summary>
    {% if post.image %}
    <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="{% if post.image contains '://' %}{{ post.image | xml_escape }}{% else %}{{ post.image | prepend: site.url | xml_escape }}{% endif %}" />
    <media:content medium="image" url="{% if post.image contains '://' %}{{ post.image | xml_escape }}{% else %}{{ post.image | prepend: site.url | xml_escape }}{% endif %}" xmlns:media="http://search.yahoo.com/mrss/" />
    {% endif %}
  </entry>
  {% endfor %}
</feed>

